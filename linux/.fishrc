#!/usr/bin/env fish


################################################################################
### Common setup "Shell-Agnostic"  (Part 1)
################################################################################

set DOTFILES_SCRIPTS "$HOME/.dotfiles/linux/scripts"
fish_add_path "$DOTFILES_SCRIPTS/bash" 2>/dev/null

source "$DOTFILES_SCRIPTS/.profile/_exports_"

fish_add_path "$HOME/.local/bin" 2>/dev/null
fish_add_path "$HOME/Qt/Tools/QtCreator/bin" 2>/dev/null


################################################################################
### Functions
################################################################################

function mkcd -a dir;
    mkdir -p "$dir"
    pushd "$dir"
end


################################################################################
### Plugins
################################################################################

set fish_greeting ""


################################################################################
### Man pages
################################################################################

set -x MANROFFOPT "-c"
set -x MANPAGER "sh -c 'col -bx | bat -l man -p'"


################################################################################
### Common setup "Shell-Agnostic"  (Part 2)
################################################################################

# Prompt
starship init fish | source

# Aliases
alias configreload='source $HOME/.config/fish/config.fish'
source "$DOTFILES_SCRIPTS/.profile/_aliases_"

# External Profile / Binaries

set OMI_SCRIPTS "$HOME/omi/scripts"
fish_add_path "$OMI_SCRIPTS/bash" 2>/dev/null

set OMI_PROFILE "$OMI_SCRIPTS/_exports_"
if test -f "$OMI_PROFILE"; source "$OMI_PROFILE"; end
# if test -f "$OMI_SCRIPTS/bash/omi"; omi -u; end
